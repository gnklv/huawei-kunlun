{"version":3,"sources":["common.js"],"names":["$","defaults","sectionContainer","pagination","keyboard","loop","videoF","videoB","fn","page_scroll","options","contentIn","element","index","elAnimIn","find","elAnimOut","addClass","length","each","i","direction","this","data","removeClass","css","-webkit-animation-delay","animation-delay","total","contentOut","setTimeout","paginationActive","n","settings","init_scroll","event","delta","deltaOfInterest","canScroll","el","moveDown","moveUp","preventDefault","extend","sections","paginationList","fps","videoDuration","duration","current","next","currentTime","hide","show","play","playing","setInterval","pause","clearInterval","moveTo","page_index","fadeIn","fadeOut","attr","firstElem","prependTo","html","click","e","document","bind","originalEvent","wheelDelta","detail","keyup","tag","target","tagName","toLowerCase","which","window","jQuery","ready","init_video_f","videoForward","forwardFlag","videoBackward","backwardFlag","videoFlag","initAll","openModal","closeModal","sendHWForm","formData","serializeArray","result","url","map","method","phone","replace","modal","post","done","console","log","fail","getElementById","addEventListener","modalBtn","modalClose","on","keyCode","mask"],"mappings":"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","file":"../sources/common.js","sourcesContent":["!function($){\r\n\r\n  var defaults = {\r\n    sectionContainer: \"section\",\r\n    pagination: true,\r\n    keyboard: true,\r\n    loop: false,\r\n    videoF: null,\r\n    videoB: null\r\n  };\r\n\r\n  $.fn.page_scroll = function(options) {\r\n    var settings = $.extend({}, defaults, options),\r\n        el = $(this),\r\n        { videoF, videoB, sectionContainer } = settings,\r\n        sections = $(sectionContainer),\r\n        total = sections.length,\r\n        paginationList = \"\",\r\n        canScroll = false,\r\n        fps = 30,\r\n        videoDuration = videoF.duration;\r\n\r\n    $.fn.moveDown = function() {\r\n      var index = $(sectionContainer +\".active\").data(\"index\"),\r\n          current = $(sectionContainer + \"[data-index='\" + index + \"']\"),\r\n          next = $(sectionContainer + \"[data-index='\" + (index + 1) + \"']\");\r\n\r\n      if(next.length < 1) {\r\n        if (settings.loop == true) {\r\n          next = $(sectionContainer + \"[data-index='1']\");\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n\r\n      videoF.currentTime = current.data('time') + 1;\r\n      $(videoB).hide();\r\n      $(videoF).show();\r\n      current.find('.c-content__bg').hide();\r\n\r\n      contentOut(current, current.data('index'));\r\n      canScroll = false;\r\n\r\n      videoF.play();\r\n      var playing = setInterval(function() {\r\n        if (videoF.currentTime >= next.data('time')) {\r\n          videoF.pause();\r\n          videoB.currentTime = videoDuration - next.data('time');\r\n          next.find('.c-content__bg').show();\r\n          contentIn(next, next.data('index'));\r\n          canScroll = true;\r\n          clearInterval(playing);\r\n        }\r\n      }, 1000 / fps);\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    $.fn.moveUp = function() {\r\n      var index = $(sectionContainer +\".active\").data(\"index\"),\r\n          current = $(sectionContainer + \"[data-index='\" + index + \"']\"),\r\n          next = $(sectionContainer + \"[data-index='\" + (index - 1) + \"']\");\r\n\r\n      if(next.length < 1) {\r\n        if (settings.loop == true) {\r\n          next = $(sectionContainer + \"[data-index='\"+total+\"']\");\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n\r\n      videoB.currentTime = videoDuration - current.data('time');\r\n      $(videoF).hide();\r\n      $(videoB).show();\r\n      current.find('.c-content__bg').hide();\r\n\r\n      contentOut(current, current.data('index'));\r\n      canScroll = false;\r\n\r\n      videoB.play();\r\n      var playing = setInterval(function() {\r\n        if (videoB.currentTime >= videoDuration - next.data('time')) {\r\n          videoB.pause();\r\n          videoF.currentTime = next.data('time') + 1;\r\n          next.find('.c-content__bg').show();\r\n          contentIn(next, next.data('index'));\r\n          canScroll = true;\r\n          clearInterval(playing);\r\n        }\r\n      }, 1000 / fps);\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    $.fn.moveTo = function(page_index) {\r\n      var index = $(sectionContainer +\".active\").data(\"index\"),\r\n          current = $(sectionContainer + \".active\"),\r\n          next = $(sectionContainer + \"[data-index='\" + page_index + \"']\");\r\n\r\n      if(next.length > 0) {\r\n        contentOut(current, current.data('index'));\r\n        $('.c-interbg').fadeIn(300);\r\n        $(videoF).fadeOut();\r\n        $(videoB).fadeOut();\r\n        current.find('.c-content__bg').fadeIn();\r\n        videoF.currentTime = next.data('time') + 1;\r\n        videoB.currentTime = videoDuration - next.data('time');\r\n        setTimeout(function() {\r\n          next.find('.c-content__bg').fadeIn();\r\n          contentIn(next, next.data(\"index\"));\r\n          $('.c-interbg').fadeOut(300);\r\n        }, 1000);\r\n      }\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    function contentIn (element, index) {\r\n      var elAnimIn = element.find('.anim-in'),\r\n          elAnimOut = element.find('.anim-out');\r\n\r\n      element.addClass(\"active\");\r\n\r\n      if (elAnimOut.length > 0) {\r\n        $.each(elAnimOut, function(i) {\r\n          var direction = $(this).data('anim');\r\n\r\n          $(this).removeClass('animate-'+ direction +'-out');\r\n        });\r\n      }\r\n\r\n      if (elAnimIn.length > 0) {\r\n        $.each(elAnimIn, function(i) {\r\n          var direction = $(this).data('anim');\r\n\r\n          if ($(this).data('anim-delay')) {\r\n            $(this).css({\r\n              '-webkit-animation-delay': `${$(this).data('anim-delay')}ms`,\r\n              'animation-delay': `${$(this).data('anim-delay')}ms`\r\n            });\r\n          }\r\n\r\n          $(this).addClass('animate-'+ direction +'-in');\r\n        });\r\n      }\r\n\r\n      if (index == total) {\r\n        $('.c-footer').removeClass('animate-up-out');\r\n        $('.c-footer').addClass('animate-up-in animate-delay');\r\n      }\r\n    }\r\n\r\n    function contentOut(element, index) {\r\n      var elAnimIn = element.find('.anim-in'),\r\n          elAnimOut = element.find('.anim-out');\r\n\r\n      setTimeout(function() {\r\n        element.removeClass(\"active\");\r\n      }, 1000);\r\n\r\n      if (elAnimOut.length > 0) {\r\n        $.each(elAnimOut, function(i) {\r\n          var direction = $(this).data('anim');\r\n          \r\n          $(this).addClass('animate-'+ direction +'-out');\r\n        });\r\n      }\r\n\r\n      if (index == total) {\r\n        $('.c-footer').removeClass('animate-up-in animate-delay');\r\n        $('.c-footer').addClass('animate-up-out');\r\n      }\r\n    }\r\n\r\n    function paginationActive(i, n) {\r\n      if(settings.pagination == true) {\r\n        $(\".c-pagination li a\" + \"[data-index='\" + i + \"']\").removeClass(\"active\");\r\n        $(\".c-pagination li a\" + \"[data-index='\" + n + \"']\").addClass(\"active\");\r\n      }\r\n    }\r\n\r\n    function init_scroll(event, delta) {\r\n        var deltaOfInterest = delta;\r\n\r\n        if(!canScroll) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (deltaOfInterest < 0) {\r\n          el.moveDown();\r\n        } else {\r\n          el.moveUp();\r\n        }\r\n    }\r\n\r\n    $.each(sections, function(i) {\r\n      $(this).attr(\"data-index\", i+1);\r\n\r\n      if(settings.pagination == true) {\r\n        paginationList += \"<li><a data-index='\"+(i+1)+\"' href='#\" + (i+1) + \"'></a></li>\"\r\n      }\r\n    });\r\n\r\n    var firstElem = $(sectionContainer + \"[data-index='1']\");\r\n\r\n    videoF.play();\r\n    var playing = setInterval(function() {\r\n      if (videoF.currentTime >= firstElem.data('time')) {\r\n        videoF.pause();\r\n        firstElem.find('.c-content__bg').show();\r\n        contentIn(firstElem);\r\n        canScroll = true;\r\n        clearInterval(playing);\r\n      }\r\n    }, 100);\r\n\r\n    if (settings.pagination == true) {\r\n      if ($('ul.c-pagination').length < 1) $(\"<ul class='c-pagination'></ul>\").prependTo(\"body\");\r\n      $('ul.c-pagination').html(paginationList);\r\n      $('ul.c-pagination li a[data-index=\"1\"]').addClass('active');\r\n\r\n      $(\".c-pagination li a\").click(function (e){\r\n        if(!canScroll) {\r\n          e.preventDefault();\r\n        } else {\r\n          e.preventDefault();\r\n\r\n          var page_index = $(this).data(\"index\");\r\n          var current = $(sectionContainer + \".active\"),\r\n              next = $(sectionContainer + \"[data-index='\" + (page_index) + \"']\");\r\n\r\n          switch(page_index - current.data('index')) {\r\n            case 1:\r\n              el.moveDown();\r\n              break;\r\n            case -1:\r\n              el.moveUp();\r\n              break;\r\n            default: \r\n              el.moveTo(page_index)\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    $(document).bind('mousewheel DOMMouseScroll MozMousePixelScroll', function(event) {\r\n      event.preventDefault();\r\n      var delta = event.originalEvent.wheelDelta || -event.originalEvent.detail;\r\n      init_scroll(event, delta);\r\n    });\r\n\r\n\r\n    if(settings.keyboard == true) {\r\n      $(document).keyup(function(e) {\r\n        if(!canScroll) {\r\n          return;\r\n        } else {\r\n          var tag = e.target.tagName.toLowerCase();\r\n\r\n          switch(e.which) {\r\n            case 38:\r\n              if (tag != 'input' && tag != 'textarea') el.moveUp()\r\n            break;\r\n            case 40:\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 32: //spacebar\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 33: //pageg up\r\n              if (tag != 'input' && tag != 'textarea') el.moveUp()\r\n            break;\r\n            case 34: //page dwn\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 36: //home\r\n              el.moveTo(1);\r\n            break;\r\n            case 35: //end\r\n              el.moveTo(total);\r\n            break;\r\n            default: return;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n}(window.jQuery);\r\n\r\n$(document).ready(function() {\r\n  var videoForward = document.getElementById('video_forward'),\r\n      videoBackward = document.getElementById('video_backward');\r\n  var forwardFlag, backwardFlag, videoFlag;\r\n\r\n  if (videoForward) videoForward.addEventListener('loadedmetadata', init_video_f)\r\n  if (videoBackward) videoBackward.addEventListener('loadedmetadata', init_video_f)\r\n\r\n  function init_video_f(event) {\r\n\r\n    if (event.target === videoForward) {\r\n      forwardFlag = true;\r\n    }\r\n\r\n    if (event.target === videoBackward) {\r\n      backwardFlag = true;\r\n    }\r\n\r\n    if (forwardFlag && backwardFlag) {\r\n      if (!videoFlag) {\r\n        initAll();\r\n        videoFlag = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  setTimeout(() => {\r\n    if (!videoFlag) {\r\n      initAll();\r\n      videoFlag = true;\r\n    }\r\n  }, 1000)\r\n\r\n  function initAll() {\r\n    $('.c-loader').fadeOut();\r\n    $(videoForward).show();\r\n    $('html, body').addClass('overflow');\r\n\r\n    $('.c-content').page_scroll({\r\n      sectionContainer: \"section.l-section\",\r\n      videoF: videoForward,\r\n      videoB: videoBackward\r\n    });\r\n  }\r\n\r\n  var modalBtn = $('.c-btn--request'),\r\n      modalClose = $('.c-modal__close'),\r\n      modal = $('.c-modal__overlay');\r\n\r\n  modalBtn.on('click', function(event) {\r\n    event.preventDefault();\r\n    openModal(modal);\r\n  });\r\n\r\n  modalClose.on('click', function() {\r\n    closeModal(modal);\r\n  });\r\n\r\n  $(document).on('click', function(event) {\r\n    switch(event.target) {\r\n      case $('.c-modal__overlay')[0]:\r\n      case $('.c-modal__wrapper')[0]:\r\n        closeModal(modal);\r\n    }\r\n  });\r\n\r\n  $(document).keyup(function(event) {\r\n    if (event.keyCode === 27) closeModal(modal);\r\n  });\r\n\r\n  function openModal(el) {\r\n    el.fadeIn();\r\n    el.removeClass('out');\r\n    el.addClass('open');\r\n  }\r\n\r\n  function closeModal(el) {\r\n    el.fadeOut();\r\n    el.addClass('out');\r\n    el.removeClass('open');\r\n  }\r\n\r\n  $('input[type=\"tel\"]').mask('+7 (999) 999-99-99');\r\n\r\n  $('.c-form').on('submit', sendHWForm);\r\n\r\n  function sendHWForm (e) {\r\n    e.preventDefault();\r\n    let formData = $(this).serializeArray();\r\n    let result = {};\r\n    let url = $(this).attr('action');\r\n\r\n    $.map(formData, (n, i) => result[n['name']] = n['value']);\r\n    result.method = 'Registration';\r\n\r\n    result.phone = result.phone.replace(/\\+|\\(|\\)|\\-|\\s/g, \"\");\r\n    \r\n    closeModal(modal);\r\n\r\n    $.post(url, result)\r\n      .done(() => { console.log(\"Success request!\") })\r\n      .fail(() => { console.log(\"Error request!\") });\r\n  };\r\n});"]}