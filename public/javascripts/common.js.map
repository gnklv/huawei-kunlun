{"version":3,"sources":["common.js"],"names":["$","defaults","sectionContainer","waitTime","pagination","keyboard","loop","videoF","videoB","fn","page_scroll","options","contentIn","element","index","elAnimIn","find","elAnimOut","addClass","length","each","i","direction","this","data","removeClass","css","-webkit-animation-delay","animation-delay","total","contentOut","setTimeout","paginationActive","n","settings","init_scroll","event","delta","deltaOfInterest","canScroll","el","moveDown","moveUp","preventDefault","extend","sections","paginationList","fps","videoDuration","duration","current","next","currentTime","hide","show","play","playing","setInterval","pause","clearInterval","moveTo","page_index","fadeIn","fadeOut","attr","firstElem","prependTo","html","click","e","document","bind","originalEvent","wheelDelta","detail","keyup","tag","target","tagName","toLowerCase","which","window","jQuery","ready","init_video_f","videoForward","removeEventListener","console","log","videoBackward","openModal","closeModal","sendHWForm","formData","serializeArray","result","url","map","method","phone","replace","modal","post","getElementById","addEventListener","modalBtn","modalClose","on","keyCode","mask"],"mappings":"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","file":"../sources/common.js","sourcesContent":["!function($){\r\n\r\n  var defaults = {\r\n    sectionContainer: \"section\",\r\n    waitTime: 0,\r\n    pagination: true,\r\n    keyboard: true,\r\n    loop: false,\r\n    videoF: null,\r\n    videoB: null\r\n\t};\r\n\r\n  $.fn.page_scroll = function(options){\r\n    var settings = $.extend({}, defaults, options),\r\n        el = $(this),\r\n        videoF = settings.videoF,\r\n        videoB = settings.videoB,\r\n        sections = $(settings.sectionContainer),\r\n        total = sections.length,\r\n        paginationList = \"\",\r\n        canScroll = false,\r\n        fps = 30,\r\n        videoDuration = videoF.duration;\r\n\r\n    $.fn.moveDown = function() {\r\n      var index = $(settings.sectionContainer +\".active\").data(\"index\"),\r\n\t\t      current = $(settings.sectionContainer + \"[data-index='\" + index + \"']\"),\r\n\t\t      next = $(settings.sectionContainer + \"[data-index='\" + (index + 1) + \"']\");\r\n\r\n      if(next.length < 1) {\r\n        if (settings.loop == true) {\r\n          next = $(settings.sectionContainer + \"[data-index='1']\");\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n\r\n      videoF.currentTime = current.data('time') + 1;\r\n      $(videoB).hide();\r\n      $(videoF).show();\r\n      current.find('.c-content__bg').hide();\r\n\r\n      contentOut(current, current.data('index'));\r\n      canScroll = false;\r\n\r\n      videoF.play();\r\n      var playing = setInterval(function() {\r\n        if (videoF.currentTime >= next.data('time')) {\r\n          videoF.pause();\r\n          videoB.currentTime = videoDuration - next.data('time');\r\n          next.find('.c-content__bg').show();\r\n          contentIn(next, next.data('index'));\r\n          canScroll = true;\r\n          clearInterval(playing);\r\n        }\r\n      }, 1000 / fps);\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    $.fn.moveUp = function() {\r\n      var index = $(settings.sectionContainer +\".active\").data(\"index\"),\r\n\t\t      current = $(settings.sectionContainer + \"[data-index='\" + index + \"']\"),\r\n\t\t      next = $(settings.sectionContainer + \"[data-index='\" + (index - 1) + \"']\");\r\n\r\n      if(next.length < 1) {\r\n        if (settings.loop == true) {\r\n          next = $(settings.sectionContainer + \"[data-index='\"+total+\"']\");\r\n        } else {\r\n          return\r\n        }\r\n      }\r\n\r\n      videoB.currentTime = videoDuration - current.data('time');\r\n      $(videoF).hide();\r\n      $(videoB).show();\r\n      current.find('.c-content__bg').hide();\r\n\r\n      contentOut(current, current.data('index'));\r\n      canScroll = false;\r\n\r\n      videoB.play();\r\n      var playing = setInterval(function() {\r\n        if (videoB.currentTime >= videoDuration - next.data('time')) {\r\n          videoB.pause();\r\n          videoF.currentTime = next.data('time') + 1;\r\n          next.find('.c-content__bg').show();\r\n          contentIn(next, next.data('index'));\r\n          canScroll = true;\r\n          clearInterval(playing);\r\n        }\r\n      }, 1000 / fps);\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    $.fn.moveTo = function(page_index) {\r\n      var index = $(settings.sectionContainer +\".active\").data(\"index\"),\r\n          current = $(settings.sectionContainer + \".active\"),\r\n      \t\tnext = $(settings.sectionContainer + \"[data-index='\" + page_index + \"']\");\r\n\r\n      if(next.length > 0) {\r\n        contentOut(current, current.data('index'));\r\n        $('.c-interbg').fadeIn(300);\r\n        $(videoF).hide();\r\n        $(videoB).hide();\r\n        current.find('.c-content__bg').hide();\r\n        videoF.currentTime = next.data('time') + 1;\r\n        videoB.currentTime = videoDuration - next.data('time');\r\n        setTimeout(function() {\r\n          next.find('.c-content__bg').fadeIn();\r\n          contentIn(next, next.data(\"index\"));\r\n          $('.c-interbg').fadeOut(300);\r\n        }, 1000);\r\n      }\r\n\r\n      paginationActive(index, next.data('index'));\r\n    }\r\n\r\n    function contentIn (element, index) {\r\n      var elAnimIn = element.find('.anim-in'),\r\n          elAnimOut = element.find('.anim-out');\r\n\r\n      element.addClass(\"active\");\r\n\r\n      if (elAnimOut.length > 0) {\r\n        $.each(elAnimOut, function(i) {\r\n          var direction = $(this).data('anim');\r\n\r\n          $(this).removeClass('animate-'+ direction +'-out');\r\n        });\r\n      }\r\n\r\n      if (elAnimIn.length > 0) {\r\n        $.each(elAnimIn, function(i) {\r\n          var direction = $(this).data('anim');\r\n\r\n          if ($(this).data('anim-delay')) {\r\n            $(this).css({\r\n              '-webkit-animation-delay': `${$(this).data('anim-delay')}ms`,\r\n              'animation-delay': `${$(this).data('anim-delay')}ms`\r\n            });\r\n          }\r\n\r\n          $(this).addClass('animate-'+ direction +'-in');\r\n        });\r\n      }\r\n\r\n      if (index == total) {\r\n        $('.c-footer').removeClass('animate-up-out');\r\n        $('.c-footer').addClass('animate-up-in animate-delay');\r\n      }\r\n    }\r\n\r\n    function contentOut(element, index) {\r\n      var elAnimIn = element.find('.anim-in'),\r\n          elAnimOut = element.find('.anim-out');\r\n\r\n      setTimeout(function() {\r\n        element.removeClass(\"active\");\r\n      }, 1000);\r\n\r\n      if (elAnimOut.length > 0) {\r\n        $.each(elAnimOut, function(i) {\r\n          var direction = $(this).data('anim');\r\n          \r\n          $(this).addClass('animate-'+ direction +'-out');\r\n        });\r\n      }\r\n\r\n      if (index == total) {\r\n        $('.c-footer').removeClass('animate-up-in animate-delay');\r\n        $('.c-footer').addClass('animate-up-out');\r\n      }\r\n    }\r\n\r\n    function paginationActive(i, n) {\r\n      if(settings.pagination == true) {\r\n        $(\".c-pagination li a\" + \"[data-index='\" + i + \"']\").removeClass(\"active\");\r\n        $(\".c-pagination li a\" + \"[data-index='\" + n + \"']\").addClass(\"active\");\r\n      }\r\n    }\r\n\r\n    function init_scroll(event, delta) {\r\n        var deltaOfInterest = delta;\r\n\r\n        if(!canScroll) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (deltaOfInterest < 0) {\r\n          el.moveDown();\r\n        } else {\r\n          el.moveUp();\r\n        }\r\n    }\r\n\r\n    $.each(sections, function(i) {\r\n      $(this).attr(\"data-index\", i+1);\r\n\r\n      if(settings.pagination == true) {\r\n        paginationList += \"<li><a data-index='\"+(i+1)+\"' href='#\" + (i+1) + \"'></a></li>\"\r\n      }\r\n    });\r\n\r\n    var firstElem = $(settings.sectionContainer + \"[data-index='1']\");\r\n\r\n    videoF.play();\r\n    var playing = setInterval(function() {\r\n      if (videoF.currentTime >= firstElem.data('time')) {\r\n        videoF.pause();\r\n        firstElem.find('.c-content__bg').show();\r\n        contentIn(firstElem);\r\n        canScroll = true;\r\n        clearInterval(playing);\r\n      }\r\n    }, 100);\r\n\r\n    if (settings.pagination == true) {\r\n      if ($('ul.c-pagination').length < 1) $(\"<ul class='c-pagination'></ul>\").prependTo(\"body\");\r\n      $('ul.c-pagination').html(paginationList);\r\n      $('ul.c-pagination li a[data-index=\"1\"]').addClass('active');\r\n\r\n      $(\".c-pagination li a\").click(function (e){\r\n        if(!canScroll) {\r\n          e.preventDefault();\r\n        } else {\r\n          e.preventDefault();\r\n\r\n          var page_index = $(this).data(\"index\");\r\n          var current = $(settings.sectionContainer + \".active\"),\r\n              next = $(settings.sectionContainer + \"[data-index='\" + (page_index) + \"']\");\r\n\r\n          switch(page_index - current.data('index')) {\r\n            case 1:\r\n              el.moveDown();\r\n              break;\r\n            case -1:\r\n              el.moveUp();\r\n              break;\r\n            default: \r\n              el.moveTo(page_index)\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    $(document).bind('mousewheel DOMMouseScroll MozMousePixelScroll', function(event) {\r\n      event.preventDefault();\r\n      var delta = event.originalEvent.wheelDelta || -event.originalEvent.detail;\r\n      init_scroll(event, delta);\r\n    });\r\n\r\n\r\n    if(settings.keyboard == true) {\r\n      $(document).keyup(function(e) {\r\n        if(!canScroll) {\r\n          return;\r\n        } else {\r\n          var tag = e.target.tagName.toLowerCase();\r\n\r\n          switch(e.which) {\r\n            case 38:\r\n              if (tag != 'input' && tag != 'textarea') el.moveUp()\r\n            break;\r\n            case 40:\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 32: //spacebar\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 33: //pageg up\r\n              if (tag != 'input' && tag != 'textarea') el.moveUp()\r\n            break;\r\n            case 34: //page dwn\r\n              if (tag != 'input' && tag != 'textarea') el.moveDown()\r\n            break;\r\n            case 36: //home\r\n              el.moveTo(1);\r\n            break;\r\n            case 35: //end\r\n              el.moveTo(total);\r\n            break;\r\n            default: return;\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n}(window.jQuery);\r\n\r\n$(document).ready(function() {\r\n\tvar videoForward = document.getElementById('video_forward'),\r\n      videoBackward = document.getElementById('video_backward');\r\n\r\n\tif (videoForward) videoForward.addEventListener('loadedmetadata', init_video_f);\r\n\r\n  function init_video_f() {\r\n    videoForward.removeEventListener('loadedmetadata', init_video_f);\r\n    console.log(1);\r\n    $('.c-loader').fadeOut();\r\n    $(videoForward).show();\r\n    $('html, body').addClass('overflow');\r\n    $('.c-content').page_scroll({\r\n      sectionContainer: \"section.l-section\",\r\n      videoF: videoForward,\r\n      videoB: videoBackward\r\n    });\r\n  }\r\n\r\n  var modalBtn = $('.c-btn--request'),\r\n      modalClose = $('.c-modal__close'),\r\n      modal = $('.c-modal__overlay');\r\n\r\n  modalBtn.on('click', function(event) {\r\n    event.preventDefault();\r\n    openModal(modal);\r\n  });\r\n\r\n  modalClose.on('click', function() {\r\n    closeModal(modal);\r\n  });\r\n\r\n  $(document).on('click', function(event) {\r\n    switch(event.target) {\r\n      case $('.c-modal__overlay')[0]:\r\n      case $('.c-modal__wrapper')[0]:\r\n        closeModal(modal);\r\n    }\r\n  });\r\n\r\n  $(document).keyup(function(event) {\r\n    if (event.keyCode === 27) closeModal(modal);\r\n  });\r\n\r\n  function openModal(el) {\r\n    el.fadeIn();\r\n    el.removeClass('out');\r\n    el.addClass('open');\r\n  }\r\n\r\n  function closeModal(el) {\r\n    el.fadeOut();\r\n    el.addClass('out');\r\n    el.removeClass('open');\r\n  }\r\n\r\n  $('input[type=\"tel\"]').mask('+7 (999) 999-99-99');\r\n\r\n  $('.c-form').on('submit', sendHWForm);\r\n\r\n  function sendHWForm (e) {\r\n    e.preventDefault();\r\n    let formData = $(this).serializeArray();\r\n    let result = {};\r\n    let url = $(this).attr('action');\r\n    let success = $(this).attr('data-success');\r\n\r\n    $.map(formData, (n, i) => result[n['name']] = n['value']);\r\n    result.method = 'Registration';\r\n\r\n    result.phone = result.phone.replace(/\\+|\\(|\\)|\\-|\\s/g, \"\");\r\n    \r\n    closeModal(modal);\r\n\r\n    $.post(url, result);\r\n  };\r\n});"]}