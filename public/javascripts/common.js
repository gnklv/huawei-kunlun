"use strict";!function(e){var a={sectionContainer:"section",waitTime:0,pagination:!0,keyboard:!0,loop:!1,videoF:null,videoB:null};e.fn.page_scroll=function(t){function n(a,t){var n=a.find(".anim-in"),i=a.find(".anim-out");a.addClass("active"),i.length>0&&e.each(i,function(a){var t=e(this).data("anim");e(this).removeClass("animate-"+t+"-out")}),n.length>0&&e.each(n,function(a){var t=e(this).data("anim");e(this).data("anim-delay")&&e(this).css({"-webkit-animation-delay":e(this).data("anim-delay")+"ms","animation-delay":e(this).data("anim-delay")+"ms"}),e(this).addClass("animate-"+t+"-in")}),t==m&&(e(".c-footer").removeClass("animate-up-out"),e(".c-footer").addClass("animate-up-in animate-delay"))}function i(a,t){var n=(a.find(".anim-in"),a.find(".anim-out"));setTimeout(function(){a.removeClass("active")},1e3),n.length>0&&e.each(n,function(a){var t=e(this).data("anim");e(this).addClass("animate-"+t+"-out")}),t==m&&(e(".c-footer").removeClass("animate-up-in animate-delay"),e(".c-footer").addClass("animate-up-out"))}function o(a,t){1==c.pagination&&(e(".c-pagination li a[data-index='"+a+"']").removeClass("active"),e(".c-pagination li a[data-index='"+t+"']").addClass("active"))}function d(e,a){var t=a;return f?void(t<0?r.moveDown():r.moveUp()):void e.preventDefault()}var c=e.extend({},a,t),r=e(this),s=c.videoF,l=c.videoB,u=e(c.sectionContainer),m=u.length,v="",f=!1,p=30,h=s.duration;e.fn.moveDown=function(){var a=e(c.sectionContainer+".active").data("index"),t=e(c.sectionContainer+"[data-index='"+a+"']"),d=e(c.sectionContainer+"[data-index='"+(a+1)+"']");if(d.length<1){if(1!=c.loop)return;d=e(c.sectionContainer+"[data-index='1']")}s.currentTime=t.data("time")+1,e(l).hide(),e(s).show(),t.find(".c-content__bg").hide(),i(t,t.data("index")),f=!1,s.play();var r=setInterval(function(){s.currentTime>=d.data("time")&&(s.pause(),l.currentTime=h-d.data("time"),d.find(".c-content__bg").show(),n(d,d.data("index")),f=!0,clearInterval(r))},1e3/p);o(a,d.data("index"))},e.fn.moveUp=function(){var a=e(c.sectionContainer+".active").data("index"),t=e(c.sectionContainer+"[data-index='"+a+"']"),d=e(c.sectionContainer+"[data-index='"+(a-1)+"']");if(d.length<1){if(1!=c.loop)return;d=e(c.sectionContainer+"[data-index='"+m+"']")}l.currentTime=h-t.data("time"),e(s).hide(),e(l).show(),t.find(".c-content__bg").hide(),i(t,t.data("index")),f=!1,l.play();var r=setInterval(function(){l.currentTime>=h-d.data("time")&&(l.pause(),s.currentTime=d.data("time")+1,d.find(".c-content__bg").show(),n(d,d.data("index")),f=!0,clearInterval(r))},1e3/p);o(a,d.data("index"))},e.fn.moveTo=function(a){var t=e(c.sectionContainer+".active").data("index"),d=e(c.sectionContainer+".active"),r=e(c.sectionContainer+"[data-index='"+a+"']");r.length>0&&(i(d,d.data("index")),e(".c-interbg").fadeIn(300),e(s).hide(),e(l).hide(),d.find(".c-content__bg").hide(),s.currentTime=r.data("time")+1,l.currentTime=h-r.data("time"),setTimeout(function(){r.find(".c-content__bg").fadeIn(),n(r,r.data("index")),e(".c-interbg").fadeOut(300)},1e3)),o(t,r.data("index"))},e.each(u,function(a){e(this).attr("data-index",a+1),1==c.pagination&&(v+="<li><a data-index='"+(a+1)+"' href='#"+(a+1)+"'></a></li>")});var g=e(c.sectionContainer+"[data-index='1']");s.play();var C=setInterval(function(){s.currentTime>=g.data("time")&&(s.pause(),g.find(".c-content__bg").show(),n(g),f=!0,clearInterval(C))},100);return 1==c.pagination&&(e("ul.c-pagination").length<1&&e("<ul class='c-pagination'></ul>").prependTo("body"),e("ul.c-pagination").html(v),e('ul.c-pagination li a[data-index="1"]').addClass("active"),e(".c-pagination li a").click(function(a){if(f){a.preventDefault();var t=e(this).data("index"),n=e(c.sectionContainer+".active");e(c.sectionContainer+"[data-index='"+t+"']");switch(t-n.data("index")){case 1:r.moveDown();break;case-1:r.moveUp();break;default:r.moveTo(t)}}else a.preventDefault()})),e(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var a=e.originalEvent.wheelDelta||-e.originalEvent.detail;d(e,a)}),1==c.keyboard&&e(document).keyup(function(e){if(f){var a=e.target.tagName.toLowerCase();switch(e.which){case 38:"input"!=a&&"textarea"!=a&&r.moveUp();break;case 40:"input"!=a&&"textarea"!=a&&r.moveDown();break;case 32:"input"!=a&&"textarea"!=a&&r.moveDown();break;case 33:"input"!=a&&"textarea"!=a&&r.moveUp();break;case 34:"input"!=a&&"textarea"!=a&&r.moveDown();break;case 36:r.moveTo(1);break;case 35:r.moveTo(m);break;default:return}}}),!1}}(window.jQuery),$(document).ready(function(){function e(){i.removeEventListener("loadedmetadata",e),console.log(1),$(".c-loader").fadeOut(),$(i).show(),$("html, body").addClass("overflow"),$(".c-content").page_scroll({sectionContainer:"section.l-section",videoF:i,videoB:o})}function a(e){e.fadeIn(),e.removeClass("out"),e.addClass("open")}function t(e){e.fadeOut(),e.addClass("out"),e.removeClass("open")}function n(e){e.preventDefault();var a=$(this).serializeArray(),n={},i=$(this).attr("action");$.map(a,function(e,a){return n[e.name]=e.value}),n.method="Registration",n.phone=n.phone.replace(/\+|\(|\)|\-|\s/g,""),t(r),$.post(i,n).done(function(){console.log("Success request!")}).fail(function(){console.log("Error request!")})}var i=document.getElementById("video_forward"),o=document.getElementById("video_backward");i&&i.addEventListener("loadedmetadata",e);var d=$(".c-btn--request"),c=$(".c-modal__close"),r=$(".c-modal__overlay");d.on("click",function(e){e.preventDefault(),a(r)}),c.on("click",function(){t(r)}),$(document).on("click",function(e){switch(e.target){case $(".c-modal__overlay")[0]:case $(".c-modal__wrapper")[0]:t(r)}}),$(document).keyup(function(e){27===e.keyCode&&t(r)}),$('input[type="tel"]').mask("+7 (999) 999-99-99"),$(".c-form").on("submit",n)});
//# sourceMappingURL=../javascripts/common.js.map
