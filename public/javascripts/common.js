"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var a={sectionContainer:"section",pagination:!0,keyboard:!0,loop:!1,videoF:null,videoB:null,responsiveFallback:!1};e.fn.page_scroll=function(t){function n(a,t){var n=a.find(".anim-in"),o=a.find(".anim-out");a.addClass("active"),o.length>0&&e.each(o,function(a){var t=e(this).data("anim");e(this).removeClass("animate-"+t+"-out")}),n.length>0&&e.each(n,function(a){var t=e(this).data("anim");e(this).data("anim-delay")&&e(this).css({"-webkit-animation-delay":e(this).data("anim-delay")+"ms","animation-delay":e(this).data("anim-delay")+"ms"}),e(this).addClass("animate-"+t+"-in")}),t==v&&(e(".c-footer").removeClass("animate-up-out"),e(".c-footer").addClass("animate-up-in animate-delay"))}function o(a,t){var n=(a.find(".anim-in"),a.find(".anim-out"));setTimeout(function(){a.removeClass("active")},1e3),n.length>0&&e.each(n,function(a){var t=e(this).data("anim");e(this).addClass("animate-"+t+"-out")}),t==v&&(e(".c-footer").removeClass("animate-up-in animate-delay"),e(".c-footer").addClass("animate-up-out"))}function i(a,t){1==l.pagination&&(e(".c-pagination li a[data-index='"+a+"']").removeClass("active"),e(".c-pagination li a[data-index='"+t+"']").addClass("active"))}function s(){var a=!1,t=_typeof(l.responsiveFallback);"number"==t&&(a=e(window).width()<l.responsiveFallback),"boolean"==t&&(a=l.responsiveFallback),"function"==t&&(valFunction=l.responsiveFallback(),a=valFunction,typeOFv="undefined"==typeof a?"undefined":_typeof(a),"number"==typeOFv&&(a=e(window).width()<valFunction)),a?(e("body").removeClass("init-page-scroll"),e("html, body").removeClass("overflow"),e(document).unbind("mousewheel DOMMouseScroll MozMousePixelScroll"),e.each(e(".anim-out"),function(){var a=e(this).attr("data-anim");e(this).hasClass("animate-"+a+"-out")&&e(this).removeClass("animate-"+a+"-out")})):(e("body").hasClass("init-page-scroll")||e("body").addClass("init-page-scroll"),e(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var a=e.originalEvent.wheelDelta||-e.originalEvent.detail;c(e,a)}))}function c(e,a){var t=a;return h?void(t<0?d.moveDown():d.moveUp()):void e.preventDefault()}var l=e.extend({},a,t),d=this,r=l.videoF,u=l.videoB,m=l.sectionContainer,f=e(m),v=f.length,p="",h=!1,b=30,w=r.duration;e.fn.moveDown=function(){var a=e(m+".active").data("index"),t=e(m+"[data-index='"+a+"']"),s=e(m+"[data-index='"+(a+1)+"']");if(s.length<1){if(1!=l.loop)return;s=e(m+"[data-index='1']")}r.currentTime=t.data("time")+1,e(u).hide(),e(r).show(),t.find(".c-content__bg").hide(),o(t,t.data("index")),h=!1,r.play();var c=setInterval(function(){r.currentTime>=s.data("time")-2&&n(s,s.data("index")),r.currentTime>=s.data("time")&&(r.pause(),u.currentTime=w-s.data("time"),s.find(".c-content__bg").show(),h=!0,clearInterval(c))},1e3/b);i(a,s.data("index"))},e.fn.moveUp=function(){var a=e(m+".active").data("index"),t=e(m+"[data-index='"+a+"']"),s=e(m+"[data-index='"+(a-1)+"']");if(s.length<1){if(1!=l.loop)return;s=e(m+"[data-index='"+v+"']")}u.currentTime=w-t.data("time"),e(r).hide(),e(u).show(),t.find(".c-content__bg").hide(),o(t,t.data("index")),h=!1,u.play();var c=setInterval(function(){u.currentTime>=w-s.data("time")-2&&n(s,s.data("index")),u.currentTime>=w-s.data("time")&&(u.pause(),r.currentTime=s.data("time")+1,s.find(".c-content__bg").show(),h=!0,clearInterval(c))},1e3/b);i(a,s.data("index"))},e.fn.moveTo=function(a){var t=e(m+".active").data("index"),s=e(m+".active"),c=e(m+"[data-index='"+a+"']");c.length>0&&(o(s,s.data("index")),e(".c-interbg").fadeIn(300),e(r).fadeOut(),e(u).fadeOut(),s.find(".c-content__bg").fadeIn(),r.currentTime=c.data("time")+1,u.currentTime=w-c.data("time"),setTimeout(function(){c.find(".c-content__bg").fadeIn(),n(c,c.data("index")),e(".c-interbg").fadeOut(300)},1e3)),i(t,c.data("index"))},e.each(f,function(a){e(this).attr("data-index",a+1),1==l.pagination&&(p+="<li><a data-index='"+(a+1)+"' href='#"+(a+1)+"'></a></li>")});var y=e(m+"[data-index='1']");r.play();var g=setInterval(function(){r.currentTime>=y.data("time")-1&&n(y),r.currentTime>=y.data("time")&&(r.pause(),y.find(".c-content__bg").show(),h=!0,clearInterval(g))},100);return 1==l.pagination&&(e("ul.c-pagination").length<1&&e("<ul class='c-pagination'></ul>").prependTo("body"),e("ul.c-pagination").html(p),e('ul.c-pagination li a[data-index="1"]').addClass("active"),e(".c-pagination li a").click(function(a){if(h){a.preventDefault();var t=e(this).data("index"),n=e(m+".active");e(m+"[data-index='"+t+"']");switch(t-n.data("index")){case 1:d.moveDown();break;case-1:d.moveUp();break;default:d.moveTo(t)}}else a.preventDefault()})),e("body").addClass("init-page-scroll"),e(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(e){e.preventDefault();var a=e.originalEvent.wheelDelta||-e.originalEvent.detail;c(e,a)}),0!=l.responsiveFallback&&(e(window).resize(function(){s()}),s()),1==l.keyboard&&e(document).keyup(function(e){if(h){var a=e.target.tagName.toLowerCase();switch(e.which){case 38:"input"!=a&&"textarea"!=a&&d.moveUp();break;case 40:"input"!=a&&"textarea"!=a&&d.moveDown();break;case 32:"input"!=a&&"textarea"!=a&&d.moveDown();break;case 33:"input"!=a&&"textarea"!=a&&d.moveUp();break;case 34:"input"!=a&&"textarea"!=a&&d.moveDown();break;case 36:d.moveTo(1);break;case 35:d.moveTo(v);break;default:return}}}),!1}}(window.jQuery),function(e){var a={init:function(t){var n=e.extend({anchor:"top",classIn:"class",classOut:"class"},t);return e("body").addClass("mob-scroll-init"),this.each(function(){var t=e(this);e(window).on("scroll",function(){a.action(t,n)})})},disable:function(){return e("body").removeClass("mob-scroll-init"),e.each(e(".anim-in-mob"),function(){e(this).hasClass("animate-left-out")&&e(this).removeClass("animate-left-out")}),this.each(function(){e(this);e(window).off("scroll")})},action:function(t,n){switch(n.anchor){case"top":e(window).scrollTop()>t.offset().top?a.actionIn(t,n):a.actionOut(t,n);break;case"center":e(window).scrollTop()+e(window).height()/2>t.offset().top?a.actionIn(t,n):a.actionOut(t,n);break;case"bottom":e(window).scrollTop()+.75*e(window).height()>t.offset().top?a.actionIn(t,n):a.actionOut(t,n)}},actionIn:function(e,a){e.hasClass(a.classIn)||(e.addClass(a.classIn),e.removeClass(a.classOut))},actionOut:function(e,a){e.hasClass(a.classIn)&&(e.removeClass(a.classIn),e.addClass(a.classOut))}};e.fn.mob_scroll=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof t?"undefined":_typeof(t))&&t?void e.error("Метод с именем "+t+" не существует для jQuery.mob_scroll"):a.init.apply(this,arguments)}}(jQuery),$(document).ready(function(){function e(e){e.fadeIn(),e.removeClass("out"),e.addClass("open")}function a(e){e.fadeOut(),e.addClass("out"),e.removeClass("open")}function t(e){e.preventDefault();var t=$(this).serializeArray(),n={},o=$(this).attr("action");$.map(t,function(e,a){return n[e.name]=e.value}),n.method="Registration",n.phone=n.phone.replace(/\+|\(|\)|\-|\s/g,""),a(m),$.post(o,n).done(function(){console.log("Success request!")}).fail(function(){console.log("Error request!")})}if($(window).width()>1199){var n,o,i,s=function(e){e.target===l&&(n=!0),e.target===d&&(o=!0),n&&o&&(i||(c(),i=!0))},c=function(){$(".c-loader").fadeOut(),$(l).show(),$("html, body").addClass("overflow"),$("body").hasClass("init-page-scroll")||$(".c-content").page_scroll({sectionContainer:"section.l-section",videoF:l,videoB:d,responsiveFallback:1199})},l=document.getElementById("video_forward"),d=document.getElementById("video_backward");l&&l.addEventListener("loadedmetadata",s),d&&d.addEventListener("loadedmetadata",s),setTimeout(function(){i||(c(),i=!0)},1e3)}else $(".anim-in-mob").mob_scroll({anchor:"bottom",classIn:"animate-left-in",classOut:"animate-left-out"});$(window).resize(function(){if($(window).width()>1199){var e,a,t,n=function(n){n.target===i&&(e=!0),n.target===s&&(a=!0),e&&a&&(t||(o(),t=!0))},o=function(){$(".c-loader").fadeOut(),$(i).show(),$("html, body").addClass("overflow"),$("body").hasClass("init-page-scroll")||$(".c-content").page_scroll({sectionContainer:"section.l-section",videoF:i,videoB:s,responsiveFallback:1199})},i=document.getElementById("video_forward"),s=document.getElementById("video_backward");$("body").hasClass("mob-scroll-init")&&$(".anim-in-mob").mob_scroll("disable"),i&&i.addEventListener("loadedmetadata",n),s&&s.addEventListener("loadedmetadata",n),setTimeout(function(){t||(o(),t=!0)},1e3)}else $(".anim-in-mob").mob_scroll({anchor:"bottom",classIn:"animate-left-in",classOut:"animate-left-out"})});var r=$(".c-btn--request"),u=$(".c-modal__close"),m=$(".c-modal__overlay");r.on("click",function(a){a.preventDefault(),e(m)}),u.on("click",function(){a(m)}),$(document).on("click",function(e){switch(e.target){case $(".c-modal__overlay")[0]:case $(".c-modal__wrapper")[0]:a(m)}}),$(document).keyup(function(e){27===e.keyCode&&a(m)}),$('input[type="tel"]').mask("+7 (999) 999-99-99"),$(".c-form").on("submit",t)});
//# sourceMappingURL=../javascripts/common.js.map
